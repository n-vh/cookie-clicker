const W=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const o of document.querySelectorAll('link[rel="modulepreload"]'))c(o);new MutationObserver(o=>{for(const r of o)if(r.type==="childList")for(const m of r.addedNodes)m.tagName==="LINK"&&m.rel==="modulepreload"&&c(m)}).observe(document,{childList:!0,subtree:!0});function n(o){const r={};return o.integrity&&(r.integrity=o.integrity),o.referrerpolicy&&(r.referrerPolicy=o.referrerpolicy),o.crossorigin==="use-credentials"?r.credentials="include":o.crossorigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function c(o){if(o.ep)return;o.ep=!0;const r=n(o);fetch(o.href,r)}};W();let v;const Y=new Uint8Array(16);function _(){if(!v&&(v=typeof crypto!="undefined"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!v))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return v(Y)}const i=[];for(let e=0;e<256;++e)i.push((e+256).toString(16).slice(1));function z(e,t=0){return(i[e[t+0]]+i[e[t+1]]+i[e[t+2]]+i[e[t+3]]+"-"+i[e[t+4]]+i[e[t+5]]+"-"+i[e[t+6]]+i[e[t+7]]+"-"+i[e[t+8]]+i[e[t+9]]+"-"+i[e[t+10]]+i[e[t+11]]+i[e[t+12]]+i[e[t+13]]+i[e[t+14]]+i[e[t+15]]).toLowerCase()}const J=typeof crypto!="undefined"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var T={randomUUID:J};function R(e,t,n){if(T.randomUUID&&!t&&!e)return T.randomUUID();e=e||{};const c=e.random||(e.rng||_)();if(c[6]=c[6]&15|64,c[8]=c[8]&63|128,t){n=n||0;for(let o=0;o<16;++o)t[n+o]=c[o];return t}return z(c)}const a=[{label:"Leonardo",count:0},{label:"Rapha\xEBl",count:0},{label:"Donatello",count:0},{label:"Michelangelo",count:0},{label:"Splinter",count:0},{label:"Shredder",count:0},{label:"Krang",count:0}],D=["Silent","Big","Sad","Dark","Agile","Fragile","Dumb","Dead","Ghost","Snake","Mysterious","Clumsy","Hollow","Iron","Golden","Gracefull","Invisible"],j=["Killer","Soldier","Assassin","Demon","Hunter","Spider","Bullet","Buildozer","Stalker","Samaritan","Ninja","Thunder","Wolf","Shade","Dagger","Master"],H="https://cookie.rct.re",O=e=>{const t=Math.pow(10,Math.ceil(Math.log(Math.ceil(e))/Math.LN10))/100;return Math.round(e/t)*t},Z=e=>{let t=e+9;return e>=5&&(t+=Math.pow(e-5,1.75)*5),t*=Math.pow(10,e),t*=Math.max(1,e-14),t},Q=(e,t)=>{const n=Z(e),c=O(n);return Math.ceil(c*Math.pow(1.15,Math.max(0,t)))},X=e=>(e===0&&(e=.1),Math.ceil(Math.pow(e*1,e*.5+2)*10)/10),ee=e=>{const t=X(e),n=O(t);return Math.round(t/n)*n},b=e=>+e.toFixed(1),I=document.getElementById("clicker"),te=document.getElementById("count"),ne=document.getElementById("total"),oe=document.getElementById("per-seconds"),B=document.getElementById("timer"),ce=document.getElementById("name"),ie=document.getElementById("bonus-list"),$=document.getElementById("bonus-template"),l=document.getElementById("shuriken"),re=document.getElementById("reset"),q=document.getElementById("notifications-list"),le=document.getElementById("notification-template"),se=document.getElementById("new-name"),A=document.getElementById("popup"),ae=document.getElementById("close-popup-button");let s=0,p=0,g=0,u=!1,M,d,h;function w(){const e=Math.floor(Math.random()*(D.length-1)),t=Math.floor(Math.random()*(j.length-1)),n=`${D[e]} ${j[t]}`;d=d||n;const c=ce.querySelector("span");c.innerHTML=d}function de(){d="",w()}function V(e){const t=le.cloneNode(!0);t.querySelector("p").innerHTML=e,t.classList.remove("hidden");const n=()=>{t.classList.remove("slide-in"),t.classList.add("animate__fadeOutRight"),setTimeout(()=>{t.remove()},500)};t.onclick=()=>{n()},setTimeout(n,10*1e3),q.appendChild(t)}function k(e){g+=e,ne.textContent=`Score: ${Math.floor(g)}`}function y(e){s+=e,te.textContent=`${Math.floor(s)} ninjas`}function f(e){const t=p+b(e);p=t,t<0&&(p=0),M&&clearInterval(M);const n=()=>u?2*t:t;M=setInterval(()=>{y(n()/10),k(n()/10),S()},1e3/10),oe.textContent=`${b(n())} per sec.`}function ue(e){const t=e.element.querySelector("img");t.src=`./bonus-${e.index+1}.svg`}function me(e){const t=e.element.querySelector(".label");t.textContent=e.label}function L(e,t=0){e.count+=t;const n=e.element.querySelector(".count");n.textContent=e.count}function x(e){e.price=Q(e.index,e.count);const t=e.element.querySelector(".price");t.textContent=Math.round(e.price)}function C(e){e.cps=ee(e.index);const t=e.element.querySelector(".multiplier");t.textContent=b(e.cps*e.count)}function S(){for(const e of a){const t=e.element.disabled===!1;t&&s<e.price?e.element.disabled=!0:!t&&s>=e.price&&(e.element.disabled=!1)}}function pe(e){s<e.price||(V(`You just clicked the bonus <u>${e.label}</u> ! </br>- ${e.price} ninjas</br>+ ${e.cps} ninjas/seconde`),y(-e.price),L(e,1),x(e),C(e),S(),f(e.cps))}function he(){l.classList.remove("hidden");let e=10,t=10,n=4,c=4;const r=setInterval(()=>{(e+l.clientWidth>=window.innerWidth||e<=0)&&(n=-n),(t+l.clientHeight>=window.innerHeight||t<=0)&&(c=-c),e+=n,t+=c,l.style.left=e+"px",l.style.top=t+"px"},1e3/100),m=()=>{l.classList.add("hidden"),clearInterval(r),clearInterval(G),f(0)};setTimeout(m,30*1e3);let N=0;const G=setInterval(()=>{N+=2,l.style.transform="rotateZ("+N+"deg)"},15);l.onclick=()=>{V("Congrats! You just clicked on the shuriken, all your clicks are doubled for 30 seconds."),B.style.display="block";let E=30;u=!0;const K=setInterval(()=>{E==-1?clearTimeout(K):(B.innerHTML="Boost: "+E+" sec. remaining",E--)},1e3);setTimeout(()=>{B.style.display="none",u=!1,f(0)},30*1e3),m()}}function F(){const e=Math.random()*3e5+3e5;setTimeout(()=>{he(),F()},e)}ae.addEventListener("click",()=>{A.classList.add("hidden"),localStorage.setItem("popup","true")});se.addEventListener("click",()=>{de()});I.addEventListener("mousedown",()=>{I.src="./karate-2.svg";const e=u?2:1;y(1*e),k(1*e),S()});I.addEventListener("mouseup",()=>{I.src="./karate-1.svg"});re.addEventListener("click",()=>{k(-g),y(-s),f(-p);for(const e of a)L(e,-e.count),C(e,-e.cps),x(e,-e.price);u=!1,h=R(),localStorage.setItem("id",h),q.innerHTML="",d="",w(),S()});async function P(e){try{const t=await fetch(`${H}/${e}/${h}`),n=await t.json();if(t.ok)return n}catch(t){console.error(t)}}async function U(e,t){try{const n=await fetch(`${H}/${e}/${h}`,{method:"POST",body:JSON.stringify(t),headers:{"Content-Type":"application/json"}});if(await n.json(),n.ok)return!0}catch(n){console.error(n)}}setInterval(()=>{U("game",{score:g,bank:s,clickPerSeconds:p,name:d,hasBoost:u}),U("bonus",{store:a})},1e3);document.addEventListener("DOMContentLoaded",async()=>{h=localStorage.getItem("id")||R(),localStorage.setItem("id",h),await P("game").then(e=>{e&&(g=e.score,s=e.bank,p=e.clickPerSeconds,u=e.hasBoost,d=e.name)}),await P("bonus").then(e=>{if(e)for(let t=0;t<a.length;t++)a[t]=e.store[t]}),w(),F(),localStorage.getItem("popup")||A.classList.remove("hidden");for(const e of a){const t=$.cloneNode(!0),n=a.indexOf(e);e.element=t,e.index=n,ue(e),me(e),L(e),x(e),C(e),t.removeAttribute("id"),t.onclick=()=>{pe(e)},ie.appendChild(t)}k(0),y(0),f(0),S(),$.remove()});
